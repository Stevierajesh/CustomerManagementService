<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Embed Payment</title>
    <script
      type="text/javascript"
      src="https://sandbox.web.squarecdn.com/v1/square.js"
    ></script>
</head>
<body>
    <div id="wrapper">
        <div id="card"></div>
        <button id="pay">pay</button>
    </div>
    <script>
        (async()=> {
            const payments = Square.payments(
                'sandbox-sq0idb-TvMhbJ9cvPinkyQhPYw0zA',
                'LT25ZZJM2H55C'
            );
            const cardOptions = {
                style: {
                    input: {
                        backgroundColor:'white'
                    },
                }
            };
            try {
                const card = await payments.card(cardOptions);
                await card.attach('#card')
                const payButton = document.getElementById('pay');
                payButton.addEventListener('click', async()=> {
                    const result = await card.tokenize();
                    alert(JSON.stringify(result, null, 2));
                })
            } catch (e) {
                console.error(e);
            }
        })()
    </script>
</body>
</html>